  import 'dart:async';

  import 'package:flutter/cupertino.dart';
  import 'package:flutter/material.dart';
  import 'package:flutter/widgets.dart';
import 'package:myapp/Modules/CounterProvider.dart';
  import 'package:myapp/Modules/Products.dart';
  import 'package:provider/provider.dart';
 void main(){
   runApp(ChangeNotifierProvider(create:(_)=> CounterProvider() ,child: MaterialApp(home: FirstScreen(),),));
 }
 class FirstScreen extends StatefulWidget{
   _FirstScreen createState()=> _FirstScreen();
 }
 class _FirstScreen extends State<FirstScreen>{
   Widget build(BuildContext context){
     var provider =Provider.of<CounterProvider>(context);
     return Scaffold(
       body:Center(
         child: Column(
           mainAxisAlignment: MainAxisAlignment.center,
           crossAxisAlignment: CrossAxisAlignment.center,
           children: [
             Consumer<CounterProvider>(
               builder:(context,provider,child){
                return  Text(provider.counter.toString()) ;
               }
             ),

             ElevatedButton(onPressed:context.read<CounterProvider>().increment, child:Text("+")),
             ElevatedButton(onPressed: provider.decrement, child: Text("-")),
             ElevatedButton(onPressed: (){
               Navigator.push(context,MaterialPageRoute(builder: (context)=>SecondScreen()));
             }, child:Text("Go to 2nd screen"))
           ],
         ),
       ),
     );
   }
 }
 class SecondScreen extends StatelessWidget{
   Widget build(BuildContext context){
     var provider=Provider.of<CounterProvider>(context);
     return Scaffold(
       body:Center(
         child: Column(
           mainAxisAlignment: MainAxisAlignment.center,
           crossAxisAlignment: CrossAxisAlignment.center,
           children: [
             Text(provider.counter.toString()),
             ElevatedButton(onPressed: (){
               Navigator.pop(context);
             }, child:Text("Go back to first screen"))
           ],
         ),
       ),
     );
   }
 }
