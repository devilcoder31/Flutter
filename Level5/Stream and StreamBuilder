    import 'dart:async';

    import 'package:flutter/cupertino.dart';
    import 'package:flutter/material.dart';
    import 'package:flutter/widgets.dart';
  import 'package:myapp/Modules/CounterProvider.dart';
    import 'package:myapp/Modules/Products.dart';
    import 'package:provider/provider.dart';
   void main(){
     runApp(MyApp());
   }
   Stream<String> counterSender() async*{
     for(int i=1;i<11;i++){
        await Future.delayed(Duration(seconds: 1));
        yield i.toString();
     }
     await Future.delayed(Duration(seconds: 1));
     yield 'Done!';
   }
   class MyApp extends StatelessWidget{
     Widget build(BuildContext context){
       return Scaffold(
         body:FirstScreen(),
       );
     }
   }
   class FirstScreen extends StatefulWidget{
     _FirstScreen createState()=> _FirstScreen();
   }
   class _FirstScreen extends State<FirstScreen>{
     Widget build(BuildContext context){
       return Center(
         child:StreamBuilder<String>(stream:counterSender() , builder:(context,snapshot){
          if(snapshot.connectionState ==ConnectionState.waiting){
            return CircularProgressIndicator();
          }
          else if(!snapshot.hasData ){
            return Text('waiting for data');
          }
          else if(snapshot.hasError){
            return Text('error occured');
          }
          return Text(snapshot.data.toString());
         }) ,
       );
     }
   }
